!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("preact")):"function"==typeof define&&define.amd?define(["exports","preact"],t):t((e||self).preactRenderToString={},e.preact)}(this,function(e,t){var n=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,r=/[&<>"]/;function o(e){if(!1===r.test(e+=""))return e;for(var t=0,n=0,o="",i="";n<e.length;n++){switch(e.charCodeAt(n)){case 60:i="&lt;";break;case 62:i="&gt;";break;case 34:i="&quot;";break;case 38:i="&amp;";break;default:continue}n>t&&(o+=e.slice(t,n)),o+=i,t=n+1}return o+e.slice(t,n)}var i=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"\t"))},s=function(e,t,n){return String(e).length>(t||40)||!n&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},a={};function l(e){var t="";for(var r in e){var o=e[r];null!=o&&""!==o&&(t&&(t+=" "),t+="-"==r[0]?r:a[r]||(a[r]=r.replace(/([A-Z])/g,"-$1").toLowerCase()),t+=": ",t+=o,"number"==typeof o&&!1===n.test(r)&&(t+="px"),t+=";")}return t||void 0}function f(e,t){return Array.isArray(t)?t.reduce(f,e):null!=t&&!1!==t&&e.push(t),e}var c={shallow:!0},u=[],p=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,d=/[\s\n\\/='"\0<>]/,_=/^xlink:?./;function v(){this.__d=!0}y.render=y;var h=function(e,t){return y(e,t,c)},g=[];function y(e,n,r){n=n||{},r=r||{};var o,i=t.options.__s;return t.options.__s=!0,o=r.pretty||r.sortAttributes?S(e,n,r):x(e,n,r),t.options.__c&&t.options.__c(e,g),g.length=0,t.options.__s=i,o}function b(e,t){return{__v:e,context:t,props:e.props,setState:v,forceUpdate:v,__d:!0,__h:[]}}function m(e,t){var n=e.contextType,r=n&&t[n.__c];return null!=n?r?r.props.value:n.__:t}function x(e,n,r,i,s,a){if(null==e||"boolean"==typeof e)return"";if("object"!=typeof e)return o(e);if(Array.isArray(e)){for(var c=[],u=0;u<e.length;u++)c.push(x(e[u],n,r,i,s,a));return c.join("")}var v=e.type,h=e.props,g=!1;if("function"==typeof v){if(g=!0,!r.shallow||!i&&!1!==r.renderRootComponent){if(v===t.Fragment){var y=[];return f(y,e.props.children),x(y,n,r,!1!==r.shallowHighOrder,s,a)}var S,w=e.__c=b(e,n);t.options.__b&&t.options.__b(e);var C=t.options.__r;if(v.prototype&&"function"==typeof v.prototype.render){var O=m(v,n);(w=e.__c=new v(h,O)).__v=e,w._dirty=w.__d=!0,w.props=h,null==w.state&&(w.state={}),null==w._nextState&&null==w.__s&&(w._nextState=w.__s=w.state),w.context=O,v.getDerivedStateFromProps?w.state=Object.assign({},w.state,v.getDerivedStateFromProps(w.props,w.state)):w.componentWillMount&&(w.componentWillMount(),w.state=w._nextState!==w.state?w._nextState:w.__s!==w.state?w.__s:w.state),C&&C(e),S=w.render(w.props,w.state,w.context)}else for(var j=m(v,n),A=0;w.__d&&A++<25;)w.__d=!1,C&&C(e),S=v.call(e.__c,h,j);return w.getChildContext&&(n=Object.assign({},n,w.getChildContext())),t.options.diffed&&t.options.diffed(e),x(S,n,r,!1!==r.shallowHighOrder,s,a)}v=k(v)}var H,F,T="<"+v;if(h)for(var M in h){var L=h[M];if("children"!==M){if(!d.test(M)&&(r&&r.allAttributes||"key"!==M&&"ref"!==M&&"__self"!==M&&"__source"!==M)){if("defaultValue"===M)M="value";else if("defaultChecked"===M)M="checked";else if("defaultSelected"===M)M="selected";else if("className"===M){if(void 0!==h.class)continue;M="class"}else s&&_.test(M)&&(M=M.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===M){if(h.for)continue;M="for"}"style"===M&&L&&"object"==typeof L&&(L=l(L)),"a"===M[0]&&"r"===M[1]&&"boolean"==typeof L&&(L=String(L));var E=r.attributeHook&&r.attributeHook(M,L,n,r,g);if(E||""===E)T+=E;else if("dangerouslySetInnerHTML"===M)F=L&&L.__html;else if("textarea"===v&&"value"===M)H=L;else if((L||0===L||""===L)&&"function"!=typeof L){if(!(!0!==L&&""!==L||(L=M,r&&r.xml))){T=T+" "+M;continue}if("value"===M){if("select"===v){a=L;continue}"option"===v&&a==L&&void 0===h.selected&&(T+=" selected")}T=T+" "+M+'="'+o(L)+'"'}}}else H=L}if(T+=">",d.test(v))throw new Error(v+" is not a valid HTML tag name in "+T);var $,R=p.test(v)||r.voidElements&&r.voidElements.test(v),D="";if(F)T+=F;else if(null!=H&&f($=[],H).length)for(var P=0;P<$.length;P++){var W=$[P];if(null!=W&&!1!==W){var N=x(W,n,r,!0,"svg"===v||"foreignObject"!==v&&s,a);N&&(D+=N)}}if(D.length||F)T+=D;else if(r&&r.xml)return T.substring(0,T.length-1)+" />";return!R||$||F?T+"</"+v+">":T.replace(/>$/," />")}function S(e,n,r,a,c,u){if(null==e||"boolean"==typeof e)return"";if("object"!=typeof e)return o(e);var v=r.pretty,h=v&&"string"==typeof v?v:"\t";if(Array.isArray(e)){for(var g="",y=0;y<e.length;y++)v&&y>0&&(g+="\n"),g+=S(e[y],n,r,a,c,u);return g}var x=e.type,w=e.props,C=!1;if("function"==typeof x){if(C=!0,!r.shallow||!a&&!1!==r.renderRootComponent){if(x===t.Fragment){var O=[];return f(O,e.props.children),S(O,n,r,!1!==r.shallowHighOrder,c,u)}var j,A=e.__c=b(e,n);t.options.__b&&t.options.__b(e);var H=t.options.__r;if(x.prototype&&"function"==typeof x.prototype.render){var F=m(x,n);(A=e.__c=new x(w,F)).__v=e,A._dirty=A.__d=!0,A.props=w,null==A.state&&(A.state={}),null==A._nextState&&null==A.__s&&(A._nextState=A.__s=A.state),A.context=F,x.getDerivedStateFromProps?A.state=Object.assign({},A.state,x.getDerivedStateFromProps(A.props,A.state)):A.componentWillMount&&(A.componentWillMount(),A.state=A._nextState!==A.state?A._nextState:A.__s!==A.state?A.__s:A.state),H&&H(e),j=A.render(A.props,A.state,A.context)}else for(var T=m(x,n),M=0;A.__d&&M++<25;)A.__d=!1,H&&H(e),j=x.call(e.__c,w,T);return A.getChildContext&&(n=Object.assign({},n,A.getChildContext())),t.options.diffed&&t.options.diffed(e),S(j,n,r,!1!==r.shallowHighOrder,c,u)}x=k(x)}var L,E,$="<"+x;if(w){var R=Object.keys(w);r&&!0===r.sortAttributes&&R.sort();for(var D=0;D<R.length;D++){var P=R[D],W=w[P];if("children"!==P){if(!d.test(P)&&(r&&r.allAttributes||"key"!==P&&"ref"!==P&&"__self"!==P&&"__source"!==P)){if("defaultValue"===P)P="value";else if("defaultChecked"===P)P="checked";else if("defaultSelected"===P)P="selected";else if("className"===P){if(void 0!==w.class)continue;P="class"}else c&&_.test(P)&&(P=P.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===P){if(w.for)continue;P="for"}"style"===P&&W&&"object"==typeof W&&(W=l(W)),"a"===P[0]&&"r"===P[1]&&"boolean"==typeof W&&(W=String(W));var N=r.attributeHook&&r.attributeHook(P,W,n,r,C);if(N||""===N)$+=N;else if("dangerouslySetInnerHTML"===P)E=W&&W.__html;else if("textarea"===x&&"value"===P)L=W;else if((W||0===W||""===W)&&"function"!=typeof W){if(!(!0!==W&&""!==W||(W=P,r&&r.xml))){$=$+" "+P;continue}if("value"===P){if("select"===x){u=W;continue}"option"===x&&u==W&&void 0===w.selected&&($+=" selected")}$=$+" "+P+'="'+o(W)+'"'}}}else L=W}}if(v){var q=$.replace(/\n\s*/," ");q===$||~q.indexOf("\n")?v&&~$.indexOf("\n")&&($+="\n"):$=q}if($+=">",d.test(x))throw new Error(x+" is not a valid HTML tag name in "+$);var I,U=p.test(x)||r.voidElements&&r.voidElements.test(x),V=[];if(E)v&&s(E)&&(E="\n"+h+i(E,h)),$+=E;else if(null!=L&&f(I=[],L).length){for(var z=v&&~$.indexOf("\n"),Z=!1,B=0;B<I.length;B++){var G=I[B];if(null!=G&&!1!==G){var J=S(G,n,r,!0,"svg"===x||"foreignObject"!==x&&c,u);if(v&&!z&&s(J)&&(z=!0),J)if(v){var K=J.length>0&&"<"!=J[0];Z&&K?V[V.length-1]+=J:V.push(J),Z=K}else V.push(J)}}if(v&&z)for(var Q=V.length;Q--;)V[Q]="\n"+h+i(V[Q],h)}if(V.length||E)$+=V.join("");else if(r&&r.xml)return $.substring(0,$.length-1)+" />";return!U||I||E?(v&&~$.indexOf("\n")&&($+="\n"),$=$+"</"+x+">"):$=$.replace(/>$/," />"),$}function k(e){return e.displayName||e!==Function&&e.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var n=-1,r=u.length;r--;)if(u[r]===e){n=r;break}n<0&&(n=u.push(e)-1),t="UnnamedComponent"+n}return t}(e)}y.shallowRender=h,e.default=y,e.render=y,e.renderToStaticMarkup=y,e.renderToString=y,e.shallowRender=h});
//# sourceMappingURL=index.js.map
